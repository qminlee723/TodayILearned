# 15장. `let`, `const` 키워드와 블록 레벨 스코프

## 15.1 `var` 키워드로 선언한 변수의 문제점

### 15.1.1 변수 중복 선언 허용

- `var` 키워드는 중복 선언이 가능

```javascript
var x = 1;
var y = 1;

var x = 100;
var y;

console.log(x); // 100
console.log(y); // 1
```

- `var` 키워드를 중복 선언하면 변수 초기화문 유무에 따라 다르게 동작
  - 초기화문 있는 경우
    -  `var` 키워드가 없는 것처럼 동작
  - 초기화문 없는 경우
    - 무시되며, 에러는 발생하지 않음



### 15.1.2 함수 레벨 스코프

- `var` 키워드로 선언한 변수는 오로지 **함수 코드블록**만을 지역 스코프로 인정
- 따라서 함수 외부에서 `var` 키워드로 선언한 변수는 코드 블록 내에서 선언해도 모두 전역 변수

```javascript
var x = 1; // x는 전역변수

if (true) {
  // 이미 선언된 전역 변수가 있으므로, x 변수는 중복 선언됨
  // 의도치 않은 변수 값 변경 발생 가능
  var x = 10;
}

console.log(x); // 10
```

- for문의 변수 선언문에서 var로 선언한 변수도 전역변수

```javascript
var i = 10;

// 이미 선언된 i가 있으므로 중복 선언됨
for (var i = 0; i < 5; i++) {
  console.log(i); // 0 1 2 3 4 
}

console.log(i); // 5
```

- 함수 레벨 스코프는 전역 변수를 남발할 가능성을 높임



