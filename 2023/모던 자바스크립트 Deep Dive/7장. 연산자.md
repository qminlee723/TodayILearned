# 7장. 연산자

## 7.1 산술 연산자

> 피연산자를 대상으로 **수학적 계산**을 수행해 결과 값을 만드는 것
>
> 산술 연산이 불가능한 경우, NaN을 반환

### 7.1.1 이항 산술 연산자

> 이항 산술 연살자는 2개의 피연산자를 산술 연산하여 숫자 값을 만든다

| 이항 산술 연산자 | 의미   |
| ---------------- | ------ |
| +                | 덧셈   |
| -                | 뺄셈   |
| *                | 곱셈   |
| /                | 나눗셈 |
| %                | 나머지 |



### 7.1.2 단항 산술 연산자

> 단항 산술 연산자는 1개 피연산자를 산술 연산하여 숫자 값을 만든다

| 단항 산술 연산자 | 의미                                                      |
| ---------------- | --------------------------------------------------------- |
| ++               | 증가                                                      |
| --               | 감소                                                      |
| +                | 어떠한 효과도 없다. <br />음수를 양수로 반전하지도 않는다 |
| -                | 양수를 음수로, 음수를 양수로 반전한 값을 반환             |

- `++`, `--` 연산자는 피연산자의 값을 변경하는 부수 효과가 있다

  - 위치

    - 피연산자 뒤에 위치한 후위 증가/감소 연산자: **먼저 다른 연산을 수행**한 후, 피연산자의 값을 증가/감소

    ```javascript
    var x = 5, result;
    
    // 선할당 후증가
    result = X++
    console.log(result, x); // 5 6
    ```

    - 피연산자 앞에 위치한 전위 증가/감소 연산자: **먼저 피연산자의 값을 증가/감소**시킨 후, 다른 연산을 수행

    ```javascript
    // 선증가 후할당
    result = ++x;
    console.log(result, x); // 7 7
    ```



### 7.1.3 문자열 연결 연산자

> `+` 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작

```javascript
'1' + 2; // '12'
1 + '2'; // '12'
```

**자바스크립트의 암묵적 타입 변환(implicit coercion) 또는 타입 강제 변환(type coercion)**

- `true` 는 1로, `false`는 0으로 타입 변환됨
- `null`는 0으로 타입 변환됨
- `undefined`는 숫자로 타입 변환되지 않음

```javascript
1 + true; // 2
1 + false; // 1
1 + null; // 1
1 + undefined // NaN
```





## 7.2 할당 연산자

> 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당

- 예제

```javascript
var x;
x = 10; // 10
x += 5; // 15
x -= 5; // 10
x *= 5; // 50
x /= 5; // 10
x %= 5; // 0
```

- 할당문은 표현식인 문

  - 할당문은 값으로 평가되는 표현식인 문으로서 할당된 값으로 평가된다. 

  ```javascript
  var x;
  console.log(x = 10); // 10
  ```

  ```javascript
  var a, b, c;
  
  // 1. c = 0;
  // 2. b = 0;
  // 3. a = 0;
  
  a = b = c = 0;
  
  console.log(a, b, c); // 0 0 0
  ```



## 7.3 비교 연산자

> 좌향과 우항의 피연산자를 비교한 다음, 그 결과를 불리언 값으로 반환

### 7.3.1 동등/일치 비교 연산자

| 비교 연산자 | 의미        | 사례    | 설명                     |
| ----------- | ----------- | ------- | ------------------------ |
| ==          | 동등 비교   | x == y  | x와 y의 값이 같음        |
| ===         | 일치 비교   | x === y | x와 y의 값과 타입이 같음 |
| !=          | 부동등 비교 | x != y  | x와 y의 값이 다름        |
| !==         | 불일치 비교 | x !== y | x와 y의 값과 타입이 다름 |

- 동등 비교 연산자의 경우

  - 결과를 예측하기 어렵고, 실수하기 쉽다
  - 좌항과 우항의 피연산자를 비교할 때 암묵적 타입 변환을 통해 타입을 일치시킨 후 같은 값인지 비교
  - 따라서 피연산자가 타입은 다르더라도 암묵적 타입 변환 후 비교한다

- 일치 비교 연산자의 경우

  - 좌항과 우항의 피연산자가 타입도 같고, 값도 같은 경우에 한하여 true를 반환

  - `NaN`은 주의: 자신과 일치하지 않는 유일한 값

    ```javascript
    NaN === NaN; // false
    ```

    - 따라서 숫자가 NaN인지 확인하려면, `isNaN()` 사용

      ```javascript
      isNaN(1+undefined); // true
      ```

  - `0`도 주의: 양의 0과 음의 0은 같은 값

    ```javascript
    0 === -0; // true
    0 == -0; // true
    ```

- `Object.is()` 메서드

  - ES6에서 도입됐으며, `===`와 동일하게 동작

    

### 7.3.2 대소 관계 비교 연산자

### 7.3.2 대소 관계 비교 연산자

> 피연산자의 크기를 비교해 불리언 값을 반환

| 비교 연산자 | 예제   | 설명                   |
| ----------- | ------ | ---------------------- |
| >           | x > y  | x가  y보다 크다        |
| <           | x < y  | x가  y보다 작다        |
| >=          | x >= y | x가  y보다 크거나 같다 |
| <=          | x <= y | x가  y보다 작거나 같다 |



## 7.4 삼항 조건 연산자

> Ternary operator는 조건식의 평가 결과에 따라 반환할 값을 결정

```
조건식 ? 조건식이 true일 때 반환할 값 : 조건식이 false일 때 반환할 값
```

- 삼항 조건 연산자는 표현식: 값으로 사용할 수 있고, 다른 표현식의 일부가 될 수 있다

  ```javascript
  var x = 10;
  
  var result = x % 2 ? '홀수' : '짝수'; // 짝수
  ```

- `if ... else`문은 표현식이 아닌 문: 값으로 사용할 수 없음

  ```javascript
  var x = 10;
  
  var result = if (x % 2) { result = '홀수' } else { result = '짝수' }
  // SyntaxError
  ```

  

## 7.5 논리 연산자

> 우항과 좌항의 피연산자를 논리연산

| 논리 연산자 | 의미        |
| ----------- | ----------- |
| \|\|        | 논리합(OR)  |
| &&          | 논리곱(AND) |
| !           | 부정(NOT)   |

- 드모르간의 법칙

  ```javascript
  !(x || y) === (!x && !y)
  !(x && y) === (!x || !y)
  ```

  

## 7.6 쉼표 연산자

> 왼쪽 피연산자부터 차례대로 피연산자를 평가하고, 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평가 결과 반환

```javascript
var x, y, z;

x = 1, y = 2, z = 3; // 3
```



## 7.7 그룹 연산자

> 소괄호: 연산자 우선순위가 가장 높음

```javascript
10 * 2 + 3; // 23

10 * (2 + 3); // 50
```



## 7.8 `typeof` 연산자

> 피연산자의 데이터 타입을 문자열로 반환
>
> `number`, `boolean`, `undefined`, `symbol`, `object`, `function`

- 특이한 경우

```javascript
typeof NaN // "number"
typeof null // "object"
typeof [] // "object"
typeof new Date() // "object"
typeof /test/gi // "object"
typeof function(){} // "function"
```

- Typeof null이 object를 반환하는 것은 자바스크립트 첫 번째 버전 버그
  - 따라서 null은 typeof로 확인하지 말자
- 선언하지 않은 식별자를 typeof로 연산하면, undefined를 반환



## 7.9 지수 연산자

> ES7
>
> 좌항의 피연산자를 밑(base), 우항의 피연산자를 지수(exponent)로 거듭 제곱하여 숫자 값 반환

```javascript
2 ** 2; // 4
(-5) ** 2; // 25
```

- 지수 연산자 도입 이전에는 Math.pow 사용

- math.pow()보다 가독성이 좋음

- 이항 연산자 중 우선순위가 가장 높음

  ```javascript
  2 * 5 ** 2; // 50
  ```



## 7.10 그 외의 연산자

| 연산자     | 개요                                                        |
| ---------- | ----------------------------------------------------------- |
| ?.         | 옵셔널 체이닝 연산자                                        |
| ??         | null 병합 연산자                                            |
| delete     | 프로퍼티 삭제                                               |
| new        | 생성자 함수를 호출할 때 사용하여 인스턴스를 생성            |
| Instanceof | 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별 |
| in         | 프로퍼티 존재 확인                                          |



## 7.11 연산자의 부수 효과

- 부수 효과가 있는 연산자: `=`, `++`, `--`, `delete`

```javascript
// ++, --, = 는 값을 변경하는 부수 효과

// delete 는 객체 프로퍼티를 삭제하는 부수 효과
var o = { a: 1 };
delete o.a;
console.log(o); // {}
```



## 7.12 연산자 우선순위



| 우선순위 | 연산자                                                       |
| -------- | ------------------------------------------------------------ |
| 1        | `()`                                                         |
| 2        | `new` (매개변수 존재), `.. [ ]` (프로퍼티 접근), `()` (함수 호출), `.?`(옵셔널 체이닝) |
| 3        | `new`(매개변수 미존재)                                       |
| 4        | x++, x--                                                     |
| 5        | !x, +x, -x, ++x, --x, typeof, delete                         |
| 6        | **                                                           |
| 7        | *, /, %                                                      |



## 7.13 연산자 결합 순서

> 연산자의 어느 쪽(좌항/우항)부터 평가를 수행할 것인지를 나타내는 순서

| 결합 순서 | 연산자                                                       |
| --------- | ------------------------------------------------------------ |
| 좌 => 우  | +, -, /, %, <, <=, >, >=, &&, \|\|, ..[], (), ??, ?., in, instance |
| 우 => 좌  | ++, --, 할당 연산자, !x, +x, -x, ++x, --x, typeof, delete, 삼항연산자 |

