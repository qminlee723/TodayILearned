# 2강. 데이터 분석을 위한 파이썬 프로그래밍 1

## 1. 시퀀스 슬라이싱과 컴프리헨션

### 데이터 분석과 파이썬

- 2021년 아나콘다의 데이터 과학자 대상 조사에서 63%가 파이썬을 항상 또는 자주 사용
- 데이터 분석에 단순한 파이썬 프로그래밍 능력 이상이 요구됨
  - 데이터를 효과적으로 다루고 변환에 필요한 적절한 데이터 구조의 활용
  - 처리과정의 효율적인 표현 방법이 요구
- 파이썬 환경에서 시퀀스(리스트, 딕셔너리 등)와 같은 데이터 구조에 대한 깊은 이해
- 오류 없는 간결한 문법적 표현으로 효율적으로 코드 작성하는 능력이 필요



### 리스트 슬라이싱

- 대상 리스트의 부분 리스트를 생성 또는 수정

  - 리스트이름[시작 인덱스:끝 인덱스:간격]

  - ```python
    numbers = [10, 20, 30, 40, 50, 60, 70]
    subset1 = numbers[0:3]
    print(subset1)
    
    # 10, 20, 30
    ```

- 음수

  ```python
  subset2 = numbers[-3:]
  print(subset2)
  
  # 50, 60, 70 
  ```

- 간격

  ```python
  list1 = numbers[ : : 2]
  print(list1)
  
  list2 = numbers[ : : -1]
  print(list2)
  
  # list1
  # 10, 30, 50, 70
  
  # list2
  # 70, 60, 50, 40, 30, 20, 10, 
  ```

  

### 리스트 컴프리헨션

- 리스트 간결하게 생성 및 조작

- 문법 형식

  ```markdown
  [표현식 for 변수 in 반복 가능한 객체]
  [표현식 for 변수 in 반복 가능한 객체 if 조건]
  ```

- 리스트 생성

  ```python
  numbers = []
  for i in range(5):
    numbers.append(i)
  print(numbers)
  
  # 1, 2, 3, 4, 5
  ```

  ```python
  numbers2 = [ i for i in range(5) ]
  print(numbers2)
  # 1, 2, 3, 4, 5
  ```

- 원소 조작

  ```python
  squares = [num ** 2 for num in numbers]
  print(squares)
  ```

- 조건 적용

  ```python
  even_numbers = [num for num in numbers
                 if num % 2 == 0]
  print(even_numbers)
  # 2, 4, 6, 8, 10
  ```



### 딕셔너리 컴프리헨션

- 대상 딕셔너리를 간결하게 생성 및 조작

- 형식

  ```markdown
  {키: 표현식 for 변수 in 반복가능 객체}
  ```

  ```markdown
  {키: 표현식 for 키변수, 값변수 in 딕셔너리.items()}
  ```

- 딕셔너리 생성

  ```python
  squares = {}
  for i in rnage(5):
    squares[i] = i ** 2
  print(squares)
  ```

  ```python
  squares = { i : i ** 2 for i in range(5) }
  print(squares)
  ```



## 2. 문자열 형식 지정

### 문자열 형식 지정의 개념

- 데이터 분석 과정에서 특정 형식의 데이터를 출력하거나 변수 값을 포함한 문자열을 생성하는 상황이 자주 발생
  - 문자열 포맷팅(string formatting) 기능 사용
  - 처리과정의 효율적인 표현 방법 요구
- 오류가 없는 간결한 문법적 표현으로 보다 효율적이고 가독성 높은 코드 작성 방법 필요
  - **C 스타일(% 연산자) 포맷팅**
  - **str.format() 메서드를 이용한 포맷팅**
  - **f-문자열 포맷팅** ⭐️



### C 스타일(% 연산자) 포맷팅

```markdown
"형식 지정자를 포함한 문자열" % (변수 리스트)
```

- C언어의 printf() 스타일과 유사
- 단점
  - 변수 개수가 증가할 수록 복잡해지고 가독성 저하
  - 변수의 개수가 잘못되거나 순서 불일치 시 오류 발생
  - 딕셔너리, 리스트 등 중첩된 데이터 구조를 직접 활용하기 어려움

- 주요 형식 지정자

  <img src="./assets/Screenshot 2025-10-08 at 1.17.23 AM.png" alt="Screenshot 2025-10-08 at 1.17.23 AM" style="zoom:50%;" />

- 예시

  - C 스타일 포맷팅 

  ```python
  item = "프린터"
  price = 360000
  print("상품명: %s, 가격: %d" % (item, price))
  ```

  - 새로운 포맷팅

  ```python
  item = "프린터"
  price = 360000
  print("상품명: {}, 가격: {}".format(item, price))
  ```



### str.format() 메서드를 이용한 포맷팅

```markdown
"문자열 {위치 또는 이름}".format(인자)
```

- 중괄호로 표시된 자리 표시자를 사용해 문자열 내의 특정 위치에 값을 삽입
- %연산자 방식보다 가독성이 낫고 유연
- 단점
  - 복잡한 문자 형식 지정이 필요한 경우 코드가 장황
  - 여러 줄의 복잡한 형식을 지정할 떄 중괄호와 형식 지정자의 조합시 가독성 저하

- 활용

  - 중괄호 내에는 인덱스, 키워드 또는 속성 이름으 ㄹ지정
  - 형식 지정자를 통해 정렬, 패딩, 소수점 자릿수, 천 단위 구분자 등 다양한 출력 형식 지정

  <img src="./assets/Screenshot 2025-10-08 at 1.21.01 AM.png" alt="Screenshot 2025-10-08 at 1.21.01 AM" style="zoom:50%;" />

  

### f-문자열 포맷팅

```markdown
f"문자열 {표현식}"
```

- 파이썬 3.6 버전부터 도입됨
- 문자열 앞에 'f', 'F'를 붙이고, 문자열 내부에 중괄호를 사용해 변수나 표현식을 표현

- 직관적, 짧은 코드, 가독성 향상

  ```python
  name = "홍길동"
  age = 30
  print(f"이름: {name}, 나이: {age}")
  ```

- 활용

  <img src="./assets/Screenshot 2025-10-08 at 1.23.37 AM.png" alt="Screenshot 2025-10-08 at 1.23.37 AM" style="zoom:50%;" />



## 3. 컨텍스트 관리

### 리소스의 사용

- 리소스는 획득 및 사용 후 명시적으로 폐기

  - 리소스: 파일, 데이터베이스 연결, 네트워크 소켓 등
  - 폐기하지 않을 시 메모리 누수나 데이터 손상과 같은 문제 발생

- 자원 사용 예

  ```python
  file = open("output.txt", "w")
  file.write("Hello, world!₩n")
  
  file.close() # 이 부분!!! 폐기 필요
  ```

  

### 컨텍스트 관리의 이해

- 컨텍스트 관리(context management) 정의

  - 자원을 효율적이고 안전하게 사용할 수 있도록 하는 메커니즘
  - 자원을 사용 후 명시적으로 폐기해 주어야 하는 자원의 획득과 해제를 **자동으로 처리**
  - with 키워드 사용

  ```python
  with open("output.txt", "w") as file:
    file.write("Hello, world!₩n")
  ```



## 4. 실습

### 첫 두 열

<img src="./assets/Screenshot 2025-10-08 at 1.32.42 AM.png" alt="Screenshot 2025-10-08 at 1.32.42 AM" style="zoom:67%;" />

### 중첩 포문

<img src="./assets/Screenshot 2025-10-08 at 1.35.16 AM.png" alt="Screenshot 2025-10-08 at 1.35.02 AM" style="zoom:67%;" />



### 딕셔너리 생성

<img src="./assets/Screenshot 2025-10-08 at 1.36.31 AM.png" alt="Screenshot 2025-10-08 at 1.36.31 AM" style="zoom:50%;" />



### 딕셔너리 응용

- Items()

<img src="./assets/Screenshot 2025-10-08 at 1.38.55 AM.png" alt="Screenshot 2025-10-08 at 1.38.55 AM" style="zoom:67%;" />



### 컨텍스트 관리

- 파일 오픈 & 클로즈 할 때 씀
  - 파일 뿐만 아니라 리스트, 딕셔너리에도 씀
- 복수개의 파일(읽기 & 쓰기) 관리 할 때 씀

```python
with open('output.txt', 'w') as file_write:
  file_write.write("Hello, world!")
```

- 통신 리소스에서도 가능
  - url 연결 관리
