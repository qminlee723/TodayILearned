# 15강. 시계열 데이터 분석

## 1. 시계열 데이터 분석

### 시계열 데이터 분석의 이해

- 시계열 데이터와 일반 데이터와의 ㅊ아ㅣ
  - 관측치 간의 시간적 의존성 존재
  - 과거 값이 현재와 미래 값에 영향을 미치는 특성을 가져 특별한 분석 방법이 필요
- 시계열 데이터 분석의 정의
  - 일정한 시간 간격으로 수집된 연속적인 데이터 집합
  - 시간의 흐름에 따라 순차적으로 기록되는 값들로 구성
- 날씨 예보, 전력 수요 예측, 경제 지표, 웹 트래픽 모니터링, 주가 예측 등 다양한 영역에 응용



### 시계열 데이터의 4가지 특징

- 추세(trend)
  - 데이터의 장기적 상승 또는 하락 패턴
  - 전반적인 방향성 나타내며, 시계열의 기본 골격 형성
- 계절성(seasonality)
  - 일정한 시간 주기로 반복되는 패턴
  - 일별, 주간, 월간, 연간 등 고정된 주기로 나타나는 변동
- 불규칙성(irregularity)
  - 예측 불가능한 무작위적 변동으로 설명할 수 없는 노이즈
- 주기성(Cyclicality)
  - 계절성보다 긴 기간에 걸쳐 나타나는 주기적 변동



### 주가 데이터 분석 기술적 지표 1

<img src="./assets/Screenshot 2025-12-10 at 12.08.47 AM.png" alt="Screenshot 2025-12-10 at 12.08.47 AM" style="zoom:50%;" />

- 이동평균(MA: Moving Average)
  - 일정 기간 동안의 가격 평균을 계산해 단기 변동성을 완화하고, 중장기적 추세를 파악하는 지표
  - 시계열 내 노이즈 제거 및 추세 파악
    - 50일, 200일 이동평균선이 대표적
  - rolling() 메소드
    - 시계열 데이터에서 연속적인 윈도우를 생성
  - mean() 메소드
    - 해당 윈도우 내 모든 값의 평균 계산



### 주가 데이터 분석 기술적 지표 2

<img src="./assets/Screenshot 2025-12-10 at 12.09.39 AM.png" alt="Screenshot 2025-12-10 at 12.09.39 AM" style="zoom:50%;" />

- 상대강도지수(RSI: Relative Strength Index)
  - 특정 기간 동안의 상승폭과 하락폭의 상대적 강도를 측정하는 모멘텀 오실레이터
  - RSI = 100 - (100 / (1 + 평균상승폭 / 평균 하락폭))



### 거래 신호 생성과 포지션 전략

- 매수 신호 조건
  - 골든 크로스: MA50이 MA200을 상향 돌파
  - RSI 반등:  RSI가 30 이하에서 30 위로 상승

- 매도 신호 조건
  - 골든 크로스: MA50이 MA200을 하향 돌파
  - RSI 반등:  RSI가 70 이상에서 70 아래로 하락
- 포지션 생성 전략
  - 신호 지연 적용: 현실적 거래 상황 모사
  - 포지션 유지: 새로운 신호 발생 전까지 기존 상태 유지
  - 초기 포지션: 분석 시작 시점에서의 기본 상태 설정



### 백테스팅(back testing)

- 과거 데이터를 통해 투자 전략의 효과성을 검증하는 과정
  - 실제 시장에 적용하기 전 전략의 수익성과 위험 평가
- 수익률 계산 방법
  - 일별 수익률 계산 및 복리 효과 반영
- 한계점 고려
  - 과거 성과가 미래 성과를 보장하지 않음
  - **데이터 스누핑 편향(data snooping bias)**
    - 어떤 전략을 세워서, 테스트 해봤는데, 효과가 좋지만... 우연하게 일치할 수 있는 특이케이스
    - **동일한 데이터셋을 반복적으로 탐색**하거나, 여러 모델 비교 시 **우연히** 통계적으로 유의미해보이는 결과가 선택되는 현상



### Meta Prophet

- 시계열 데이터의 추세, 계절성, 휴일 효과를 자동으로 포착해 미래값을 예측하는 프레임워크
- 전통적인 시계열 방법론과 달리 베이지안 접근법 활용해 각 구성요소 추정
  - 결측값, 추세 변화, 특이점 등에 강건한 특성 보유



### GBRT(Gradient Boosting Regression Trees)

<img src="./assets/Screenshot 2025-12-10 at 12.15.56 AM.png" alt="Screenshot 2025-12-10 at 12.15.56 AM" style="zoom:50%;" />

- 기계 학습에서 약한 예측 모델을 여러 개 결합하여 강한 예측 모델을 만드는 **앙상블** 기법 중 하나
- 이전 모델이 예측하지 못한 오차(residual)를 다음 모델이 보완하도록 하는 것



